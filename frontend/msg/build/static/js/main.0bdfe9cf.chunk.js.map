{"version":3,"sources":["Components/NewMessage.jsx","Components/ShowMessage.jsx","Components/DeleteMessage.jsx","App.js","index.js"],"names":["NewMesssage","history","useHistory","useState","randomString","setRandomString","password","setPassword","targetMail","setTargetmail","message","setMessage","rootUrl","setRooturl","buttonDisabled","setButtonDisabled","useEffect","window","location","href","Math","random","toString","substring","toUpperCase","Container","className","Button","variant","onClick","push","htmlFor","type","value","onChange","e","target","id","cols","rows","disabled","fetch","method","headers","body","JSON","stringify","randomKey","targetURL","then","res","toast","notify","catch","error","console","log","ShowMessage","Setid","url_string","url","URL","searchParams","get","json","result","DeleteMessage","secretKey","setSecretKey","response","setResponse","btndisable","setBtndisabled","length","App","props","exact","path","render","NewMessage","ReactDOM","StrictMode","document","getElementById"],"mappings":"8PA0EeA,EAhEK,WAEhB,IAAMC,EAAUC,cAFM,EAIiBC,mBAAS,IAJ1B,mBAIfC,EAJe,KAIFC,EAJE,OAKSF,mBAAS,IALlB,mBAKfG,EALe,KAKNC,EALM,OAMaJ,mBAAS,IANtB,mBAMfK,EANe,KAMJC,EANI,OAOON,mBAAS,IAPhB,mBAOfO,EAPe,KAOPC,EAPO,OAQOR,mBAAS,IARhB,mBAQfS,EARe,KAQPC,EARO,OASqBV,oBAAS,GAT9B,mBASfW,EATe,KASAC,EATA,KAWtBC,qBAAU,WACNH,EAAW,GAAD,OAAII,OAAOC,SAASC,KAApB,aACVd,EAAgBe,KAAKC,SAASC,SAAS,IAAIC,UAAU,GAAGC,iBAC1D,IAEFR,qBAAU,WAEFD,IADDX,GAAgBE,GAAYI,GAAWF,GAAcI,MAK1D,CAACR,EAAaE,EAASI,EAAQF,EAAWI,IAqB5C,OACD,eAACa,EAAA,EAAD,WAES,gCACI,oBAAIC,UAAU,UAAd,6BACA,qBAAKA,UAAU,mBAAf,SAAkC,cAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAAS,kBAAK5B,EAAQ6B,KAAK,YAArD,iCAEtC,uBAAOC,QAAQ,SAAf,SAAwB,gDAA4B,uBACpD,uBAAOC,KAAO,OAAON,UAAU,aAAaO,MAAO7B,EAAc8B,SAAU,SAACC,GAAD,OAAK9B,EAAgB8B,EAAEC,OAAOH,UAAS,uBAClH,uBAAOF,QAAQ,WAAf,SAA0B,2CAC1B,uBAAOC,KAAK,OAAQN,UAAU,cAAcO,MAAO3B,EAAU4B,SAAU,SAACC,GAAD,OAAK5B,EAAY4B,EAAEC,OAAOH,UACjG,uBAAOF,QAAQ,UAAf,SAAyB,yCAAqB,uBAC9C,0BAAUM,GAAG,UAAUC,KAAK,KAAKC,KAAK,KAAKN,MAAOvB,EAASwB,SAAU,SAACC,GAAD,OAAKxB,EAAWwB,EAAEC,OAAOH,UAAmB,uBACjH,uBAAOF,QAAQ,OAAf,SAAsB,8CAA0B,uBAChD,uBAAOC,KAAK,OAAON,UAAU,cAAcO,MAAOzB,EAAY0B,SAAU,SAACC,GAAD,OAAK1B,EAAc0B,EAAEC,OAAOH,UAAS,uBAC7G,cAACN,EAAA,EAAD,CAAQC,QAAQ,UAAUI,KAAK,SAASQ,SAAU1B,EAAgBe,QAAS,WAjC/EY,MAAM,+DAA+D,CACjEC,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKC,KAAKC,UAAU,CAChBC,UAAU3C,EACVE,SAASA,EACTI,QAAQA,EACRF,WAAWA,EACXwC,UAAUpC,MAGfqC,MAAK,SAACC,GAASC,IAAMC,OAAO,0BAC9BC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAmB1B,SAAiG,2CCjC9FG,EAhCK,WAAO,IAAD,EACHtD,mBAAS,IADN,mBACfkC,EADe,KACZqB,EADY,OAEOvD,mBAAS,IAFhB,mBAEfO,EAFe,KAEPC,EAFO,KAgBtB,OAZAK,qBAAU,WACN,IAAM2C,EAAc1C,OAAOC,SAASC,KAC9ByC,EAAM,IAAIC,IAAIF,GACpBD,EAAME,EAAIE,aAAaC,IAAI,SAC7B,IAEF/C,qBAAW,WACPyB,MAAM,+DAAD,OAAgEJ,IACpEY,MAAK,SAACC,GAAD,OAAOA,EAAIc,UAChBf,MAAK,SAACC,GAAD,aAASvC,EAAU,UAACuC,EAAIe,OAAO,UAAZ,aAAC,EAAevD,cAC3C,CAAC2B,IAGC,8BAEM3B,EAAU,gCACJ,yCACA,uEACA,6BAAKA,OACJ,gCACL,oDACA,2EC6BDwD,EAjDO,WAClB,IAAIjE,EAAUC,cADU,EAGSC,mBAAS,IAHlB,mBAGjBgE,EAHiB,KAGPC,EAHO,OAIOjE,mBAAS,IAJhB,mBAIjBG,EAJiB,KAIRC,EAJQ,OAKOJ,mBAAS,IALhB,mBAKjBkE,EALiB,KAKRC,EALQ,OAMYnE,oBAAS,GANrB,mBAMjBoE,EANiB,KAMNC,EANM,KAkCxB,OARExD,qBAAU,WAEFwD,GADDL,IAAW7D,MAQhB,eAACmB,EAAA,EAAD,WACI,gCACI,gDACA,qBAAKC,UAAU,mBAAf,SAAkC,cAACC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAAS,kBAAK5B,EAAQ6B,KAAK,MAArD,iCAEtC,uBAAOC,QAAQ,MAAf,uBACA,uBAAOC,KAAK,OAAON,UAAU,cAAcO,MAAOkC,EAAWjC,SAAU,SAACC,GAAD,OAAKiC,EAAajC,EAAEC,OAAOH,UAAS,uBAC3G,uBAAOF,QAAQ,WAAf,uBACA,uBAAOC,KAAK,WAAWN,UAAU,cAAcO,MAAO3B,EAAU4B,SAAU,SAACC,GAAD,OAAK5B,EAAY4B,EAAEC,OAAOH,UACnGoC,EAASI,OAAS,GAAK,4CAAeJ,KAAe,uBACtD,wBAAQ3C,UAAU,iBAAiBc,SAAU+B,EAAY1C,QAAS,WAnCtEY,MAAM,+DAA+D,CACjEC,OAAO,SACPC,QAAQ,CACJ,eAAe,oBAEnBC,KAAKC,KAAKC,UAAU,CAChBqB,UAAUA,EACV7D,SAASA,MAEb2C,MAAK,SAACC,GAAD,OAAOA,EAAIc,UACnBf,MAAK,SAACC,GACLoB,EAAYpB,EAAIxC,SAChB8D,GAAe,OAuBb,wB,MClBGE,MAzBf,SAAaC,GACX,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAO,IAAIC,OAAQ,SAACH,GAC/B,OACE,cAACI,EAAD,OAGD,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAO,UAAUC,OAAQ,SAACH,GACxC,OACE,cAAC,EAAD,OAGF,cAAC,IAAD,CAAOE,KAAO,WAAWC,OAAQ,SAACH,GAClC,OACE,cAAC,EAAD,aCrBZK,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0bdfe9cf.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport {useHistory} from \"react-router-dom\"\r\nimport {Container,Button} from \"react-bootstrap\"\r\nimport \"../App.css\"\r\nimport toast from 'toasted-notes' \r\nimport 'toasted-notes/src/styles.css';\r\n\r\n\r\nconst NewMesssage = () => {\r\n   \r\n    const history = useHistory();\r\n\r\n    const [randomString,setRandomString] = useState('');\r\n    const [password,setPassword] = useState('');\r\n    const [targetMail,setTargetmail] = useState('')\r\n    const [message,setMessage] = useState('');\r\n    const [rootUrl,setRooturl] = useState('');\r\n    const [buttonDisabled,setButtonDisabled] = useState(true)\r\n\r\n    useEffect(() => {\r\n        setRooturl(`${window.location.href}message/`)\r\n        setRandomString(Math.random().toString(36).substring(5).toUpperCase())\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(randomString && password && message && targetMail && rootUrl){\r\n            setButtonDisabled(false)\r\n        }else{\r\n            setButtonDisabled(true)\r\n        }\r\n    },[randomString,password,message,targetMail,rootUrl])\r\n\r\n    const handleSubmit = () => {\r\n        fetch(\"https://secret-message-backends.herokuapp.com/create-message\",{\r\n            method:\"POST\",\r\n            headers:{\r\n                'Content-type':\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                randomKey:randomString,\r\n                password:password,\r\n                message:message,\r\n                targetMail:targetMail,\r\n                targetURL:rootUrl\r\n\r\n            })\r\n        }).then((res) => {toast.notify(\"Secret Message Sent\")})\r\n        .catch((error) => console.log(error))\r\n        \r\n\r\n    }\r\n    return(\r\n   <Container>    \r\n          \r\n            <div>\r\n                <h1 className=\"heading\">Secret message </h1>\r\n                <div className=\"deleteMessagebtn\"><Button variant=\"warning\" onClick={()=> history.push('/delete')}>Delete Message</Button></div>\r\n            </div>\r\n            <label htmlFor=\"random\"><b>Random String</b></label><br/>\r\n            <input type = \"text\" className=\"input-goup\" value={randomString} onChange={(e)=>setRandomString(e.target.value)}/><br/>\r\n            <label htmlFor=\"password\"><b>Password</b></label>\r\n            <input type=\"text\"  className=\"input-group\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n            <label htmlFor=\"message\"><b>Mesage</b></label><br/>\r\n            <textarea id=\"message\" cols=\"60\" rows=\"10\" value={message} onChange={(e)=>setMessage(e.target.value)}></textarea><br/>\r\n            <label htmlFor=\"mail\"><b>Target Mail</b></label><br/>\r\n            <input type=\"text\" className=\"input-group\" value={targetMail} onChange={(e)=>setTargetmail(e.target.value)}/><br/>\r\n            <Button variant=\"success\" type=\"button\" disabled={buttonDisabled} onClick={()=>{handleSubmit()}}><b>Send</b></Button>\r\n            </Container>    \r\n            \r\n            )\r\n}\r\n\r\nexport default NewMesssage;","import React, { useState } from \"react\"\r\nimport { useEffect } from \"react\";\r\n\r\nconst ShowMessage = () => {\r\n    const [id,Setid] = useState('');\r\n    const [message,setMessage] = useState('');\r\n\r\n    useEffect(()=>{\r\n        const url_string  = window.location.href;\r\n        const url = new URL(url_string);\r\n        Setid(url.searchParams.get('rs'));\r\n    },[])\r\n\r\n    useEffect (()=>{\r\n        fetch(`https://secret-message-backends.herokuapp.com/message-by-id/${id}`)\r\n        .then((res)=>res.json())\r\n        .then((res) => setMessage(res.result[0]?.message))\r\n    },[id])\r\n\r\n    return(\r\n        <div>\r\n            {\r\n              message ? <div>\r\n                    <h1>Message</h1>\r\n                    <h4>This is a secret message for your!!!!</h4>\r\n                    <h3>{message}</h3>\r\n              </div>:<div>\r\n                <h1>ooops msg not foud</h1>\r\n                <h4>Message has been deleted by creator</h4>\r\n              </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowMessage;","import React from \"react\"\r\nimport { useEffect } from \"react\"\r\nimport { useState } from \"react\"\r\nimport {useHistory} from \"react-router-dom\"\r\nimport {Button, Container} from \"react-bootstrap\"\r\nimport \"../App.css\"\r\n\r\n\r\nconst DeleteMessage = () => {\r\n    let history = useHistory()\r\n\r\n    const [secretKey,setSecretKey] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const [response,setResponse] = useState('')\r\n    const [btndisable,setBtndisabled] = useState(true)\r\n\r\n\r\n   const handleDelete = () => {\r\n        fetch(\"https://secret-message-backends.herokuapp.com/delete-message\",{\r\n            method:\"DELETE\",\r\n            headers:{\r\n                'Content-Type':\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                secretKey:secretKey,\r\n                password:password\r\n            })\r\n        }) .then((res)=>res.json())\r\n        .then((res)=>{\r\n          setResponse(res.message);\r\n          setBtndisabled(true);\r\n        })\r\n      }\r\n      \r\n      useEffect(()=>{\r\n          if(secretKey&&password){\r\n              setBtndisabled(false)\r\n          }else{\r\n              setBtndisabled(true)\r\n          }\r\n      })\r\n    \r\n    return(\r\n        <Container>\r\n            <div>\r\n                <h1>Delete message</h1>\r\n                <div className=\"deleteMessagebtn\"><Button variant=\"success\" onClick={()=> history.push(\"/\")}>Create Message</Button></div>\r\n            </div>\r\n            <label htmlFor=\"key\">Secretkey</label>\r\n            <input type=\"text\" className=\"input-group\" value={secretKey} onChange={(e)=>setSecretKey(e.target.value)}/><br/>\r\n            <label htmlFor=\"password\">Password:</label>\r\n            <input type=\"password\" className=\"input-group\" value={password} onChange={(e)=>setPassword(e.target.value)}/>\r\n            {response.length > 0 && <h5>Message : {response}</h5>}<br/>\r\n            <button className=\"btn btn-danger\" disabled={btndisable} onClick={()=>handleDelete()}>Delete</button>\r\n            </Container>    )\r\n}\r\n\r\nexport default DeleteMessage;\r\n","import React from \"react\"\nimport {BrowserRouter as Router,Switch,Route} from \"react-router-dom\"\nimport './App.css';\nimport NewMessage from \"./Components/NewMessage\"\nimport ShowMessage from \"./Components/ShowMessage\"\nimport DeleteMessage from \"./Components/DeleteMessage\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\n \n\n\nfunction App(props) {\n  return ( \n    <Router>\n      <Switch>\n        <Route exact path = '/' render={(props)=>{\n          return(\n            <NewMessage/>\n          )\n        }}/>\n           <Route exact path = '/delete' render={(props)=>{\n          return(\n            <DeleteMessage/>\n          )\n        }}/>\n          <Route path = '/message' render={(props)=>{\n          return(\n            <ShowMessage/>\n          )\n        }}/> \n      </Switch>\n    </Router>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}